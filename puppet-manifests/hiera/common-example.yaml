---
apt::always_apt_update: true
apt::disable_keys: false
apt::purge_sources_list: true
apt::purge_sources_list_d: true
apt::purge_preferences_d: true
apt::update_timeout: 300
apt::sources:
  mirror:
    location: 'http://archive.ubuntu.com/ubuntu/'
    release: "%{::lsbdistcodename}"
    key: 'C0B21F32'
    key_server: 'keyserver.ubuntu.com'
    repos: 'main restricted universe multiverse'
    include_src: false
    include_deb: true
  mirror_updates:
    location: 'http://archive.ubuntu.com/ubuntu/'
    release: "%{::lsbdistcodename}-updates"
    key: 'C0B21F32'
    key_server: 'keyserver.ubuntu.com'
    repos: 'main restricted universe multiverse'
    include_src: false
    include_deb: true
  devops:
    location: 'http://mirror.fuel-infra.org/devops/ubuntu/'
    release: '/'
    key: '62BF6A9C1D2B45A2'
    key_server: 'keyserver.ubuntu.com'
    repos: ''
    include_src: false
    include_deb: true
  docker:
    location: 'https://get.docker.io/ubuntu'
    release: 'docker'
    key: 'A88D21E9'
    key_server: 'keyserver.ubuntu.com'
    repos: 'main'
    include_src: false
    include_deb: true
  jenkins:
    location: 'http://pkg.jenkins-ci.org/debian-stable/'
    release: 'binary/'
    key: 'D50582E6'
    key_server: 'keyserver.ubuntu.com'
    repos: ''
    include_src: false
    include_deb: true
  elasticsearch:
    location: 'http://packages.elasticsearch.org/elasticsearch/1.3/debian'
    release: 'stable'
    repos: 'main'
    key: 'D88E42B4'
    key_server: 'keyserver.ubuntu.com'
    include_src: false
    include_deb: true

atop::service: true
atop::interval: 60

yum::default:
  'enabled': true
yum::purge: true
yum::repos:
  'base':
    'descr': 'CentOS-$releasever - Base'
    'baseurl': 'http://mirror.centos.org/centos/$releasever/os/$basearch/'
    'gpgcheck': true
  'centosplus':
    'descr': 'CentOS-$releasever - Plus'
    'baseurl': 'http://mirror.centos.org/centos/$releasever/centosplus/$basearch/'
    'gpgcheck': true
  'contrib':
    'descr': 'CentOS-$releasever - Contrib'
    'baseurl': 'http://mirror.centos.org/centos/$releasever/contrib/$basearch/'
    'gpgcheck': true
  'epel':
    'descr': 'epel $releasever'
    'mirrorlist': 'https://mirrors.fedoraproject.org/metalink?repo=epel-6&arch=$basearch'
    'gpgcheck': true
    'gpgkey': 'https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-6'
  'extras':
    'descr': 'CentOS-$releasever - Extras'
    'baseurl': 'http://mirror.centos.org/centos/$releasever/extras/$basearch/'
    'gpgcheck': true
  'jpackage':
    'descr': 'JPackage'
    'mirrorlist': 'http://www.jpackage.org/mirrorlist.php?dist=generic&type=free&release=5.0'
    'gpgcheck': true
    'gpgkey': 'http://www.jpackage.org/jpackage.asc'
  'updates':
    'descr': 'CentOS-$releasever - Updates'
    'baseurl': 'http://mirror.centos.org/centos/$releasever/updates/$basearch/'
    'gpgcheck': true
  'zabbix':
    'descr': 'Zabbix Official Repository - $basearch'
    'baseurl': 'http://repo.zabbix.com/zabbix/2.2/rhel/6/$basearch/'
    'gpgcheck': true
    'gpgkey': 'http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX'

firewall:
  known_networks:
    - 10.108.0.0/16
  external_hosts:
    - 10.0.0.0/16
  internal_networks:
    - 172.18.0.0/16
  local_networks:
    - 192.168.1.0/24

mysql:
  root_password: 'peNTZ7GA2Zr90y'

system::root_email: 'root@example.com'
system::mta_local_only: true
system::timezone: 'UTC'
system::root_password: '$6$rqlo82B/$nKaHJ2oNy08spMfByg1Pk.U/fnJvhOdWAMe2MS53zW8yw3ZIGGMoiqz98s/DDeeOzKrc2iR7WWoOfN5RoVnd9/'
system::install_tools: true

fuel_project::jenkins::slave::nailgun_db:
  - 'nailgun'
  - 'nailgun0'
  - 'nailgun1'
  - 'nailgun2'
  - 'nailgun3'
  - 'nailgun4'
  - 'nailgun5'
  - 'nailgun6'
  - 'nailgun7'

fuel_project::jenkins::slave::seed_cleanup_dirs:
  -
    dir: '/var/www/fuelweb-iso'
    ttl: 10
    pattern: 'fuel-*'
  -
    dir: '/srv/downloads'
    ttl: 1
    pattern: 'fuel-*'


fuel_project::jenkins::slave::docker_package: 'lxc-docker-1.5.0'
fuel_project::jenkins::slave::jenkins_swarm_slave: true

fuel_project::jenkins::slave::ruby_version: '2.1.5'

jenkins::slave::authorized_keys:
  'jenkins@mytestserver':
    type: ssh-rsa
    key: 'AAAAB3NzaC1yc2EAAAADAQABAAABAQDNWgMf6IisSY0HK0mpHkgVhRxHsDom81PJ6W3jAgcSBWY1Kz/2vL98SK91ppgYmnDa2uLbchY2Xk9ciefMpm7Qq5EO6oSPKJJhADyCYAX/7YomZIy4Xu7HxEh0Z6VCLt0DymwN4tBS9JuTISvEm17BLgtis/AemA2eRIl0JAdPf9rmQps4KP5AhG60ucdtTKD0y8TFK95ateplgcq9JLRInhrdg/vnJLbKnV7lP1g5dfY1rm6bum7P+Jwf2tdTOa0b5ucK/+iWVbyPO4Z2afPpblh4Vynfe2wMzzpGAp3n5MwtH2EZmSXm/B6/CkgOFROsmWH8MzQEvNBGHhw+ONR9'
jenkins::swarm_slave::master: 'https://jenkins.test-company.org/'
jenkins::swarm_slave::user: 'jenkins-robotson'
jenkins::swarm_slave::password: 'BTRfeHyibQlM2M'
jenkins::swarm_slave::labels: '14_04'


fuel_project::jenkins::slave::known_hosts:
  'review.openstack.org':
    host: 'review.openstack.org'
    port: 29418

mysql::client::package_name: 'percona-server-client-5.6'
mysql::server::package_name: 'percona-server-server-5.6'
mysql::server::root_password: 'WpUrXaC92cZQ4XHMLpfraTRsl16ZtoTu'

puppet::master::autosign: true
puppet::master::firewall_allow_sources:
  '1000 - puppet master connections from 10.0.0.0/8':
    source: '10.0.0.0/8'
  '1000 - puppet master connections from 172.16.0.0/12':
    source: '172.16.0.0/12'
  '1000 - puppet master connections from 192.168.0.0/16':
    source: '192.168.0.0/16'

sysctl::base::values:
  net.ipv4.ip_forward:
    value: '0'
  net.ipv4.tcp_syncookies:
    value: 1
  net.ipv4.tcp_window_scaling:
    value: 1
  net.ipv4.tcp_congestion_control:
    value: cubic
  net.ipv4.tcp_no_metrics_save:
    value: 1
  net.ipv4.tcp_moderate_rcvbuf:
    value: 1
  fs.inotify.max_user_instances:
    value: 256

#passed to nginx::package class
nginx::package_name: nginx-full
nginx::package_source: nginx
nginx::package_ensure: present
nginx::manage_repo: false

#passed to nginx::service class
nginx::configtest_enable: true
nginx::service_ensure: running
nginx::service_restart: 'nginx -t && /etc/init.d/nginx restart'

nginx::config::temp_dir: /tmp
nginx::config::run_dir: /var/nginx
nginx::config::conf_template: fuel_project/nginx/nginx.conf.erb
nginx::config::proxy_conf_template: nginx/conf.d/proxy.conf.erb
nginx::config::confd_purge: true
nginx::config::vhost_purge: true
nginx::config::worker_processes: "%{processorcount}"
nginx::config::worker_connections: 1024
nginx::config::worker_rlimit_nofile: 1024
nginx::config::types_hash_max_size: 1024
nginx::config::types_hash_bucket_size: 512
nginx::config::names_hash_bucket_size: 64
nginx::config::names_hash_max_size: 512
nginx::config::multi_accept: 'off'
nginx::config::events_use: false
nginx::config::sendfile: 'on'
nginx::config::keepalive_timeout: 65
nginx::config::http_tcp_nodelay: 'on'
nginx::config::http_tcp_nopush: 'off'
nginx::config::gzip: 'on'
nginx::config::server_tokens: 'off'
nginx::config::spdy: 'off'
nginx::config::ssl_stapling: 'off'
nginx::config::proxy_redirect: 'off'
nginx::config::proxy_set_header:
  - 'Host $host'
  - 'X-Real-IP $remote_addr'
  - 'X-Forwarded-For $proxy_add_x_forwarded_for'
nginx::config::proxy_cache_path: '/var/lib/nginx/cache'
nginx::config::proxy_cache_levels: '2'
nginx::config::proxy_cache_keys_zone: 'static:500m'
nginx::config::proxy_cache_max_size: 500m
nginx::config::proxy_cache_inactive: 20m
nginx::config::fastcgi_cache_path: false
nginx::config::fastcgi_cache_levels: '1'
nginx::config::fastcgi_cache_keys_zone: 'd3:100m'
nginx::config::fastcgi_cache_max_size: 500m
nginx::config::fastcgi_cache_inactive: 20m
nginx::config::fastcgi_cache_key: false
nginx::config::fastcgi_cache_use_stale: false
nginx::config::client_body_temp_path: /var/nginx/client_body_temp
nginx::config::client_body_buffer_size: 128k
nginx::config::client_max_body_size: 10m
nginx::config::proxy_temp_path: /var/nginx/proxy_temp
nginx::config::proxy_connect_timeout: '90'
nginx::config::proxy_send_timeout: '90'
nginx::config::proxy_read_timeout: '90'
nginx::config::proxy_buffers: '32 4k'
nginx::config::proxy_http_version: '1.0'
nginx::config::proxy_buffer_size: 8k
nginx::config::proxy_headers_hash_bucket_size: '256'
nginx::config::logdir: /var/log/nginx

nginx::config::mail: false

# Used to set conn_limit
nginx::config::http_cfg_append:
  'limit_conn_zone': '$binary_remote_addr zone=addr:10m'

nginx::config::nginx_error_log: /var/log/nginx/error.log
nginx::config::http_access_log: /var/log/nginx/access.log

nginx::config::root_group: root
# Specific owner for sites-available directory
nginx::config::sites_available_owner: root
nginx::config::sites_available_group: root
nginx::config::sites_available_mode: '0644'

# Owner for all other files
nginx::config::global_owner: root
nginx::config::global_group: root
nginx::config::global_mode: '0644'

nginx::config::pid: /var/run/nginx.pid

nginx::config::conf_dir: /etc/nginx

nginx::config::super_user: true
nginx::config::daemon_user: www-data

logrotate::rules:
  'upstart':
    path: '/var/log/upstart/*.log'
    rotate_every: 'day'
    rotate: '7'
    missingok: true
    compress: true
    ifempty: false
    create: false
    delaycompress: true
